{% extends 'base.html.twig' %}

{% block title %}Author List{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>Author List</h1>
    {% set nb_all_books = 0 %}
    {% for author in authors %}
        <div>
        <img src="{{ author.picture }}" alt="{{ author.username }}">
        <p><b>Username : </b> {{ author.username | upper }} </p>
        <p><b>Email : </b> {{ author.email}} </p>
        <p><b>Number of Books : </b> {{ author.nbBooks}} </p>
        <a href="{{path('app_author_details',{id: author.id})}}">Details</a>
        </div><hr>
        {% set nb_all_books = nb_all_books + author.nbBooks %}
    {% endfor %}
    <div>
    <p><b>Number of All Authors : </b> {{ authors | length }} </p>
    <p><b>Number of All Books : </b> {{ nb_all_books }} </p>
    </div>
</div>
{% endblock %}
